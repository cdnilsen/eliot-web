<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Synapdeck</title>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./synapdeck_styles.css">

</head>
<body>
    <div class="container">
        <h1>Welcome to Synapdeck!</h1>
        <div class="button-row">
            <button type="button" id="upload_cards" class="active">Upload Card Data</button>
            <button type="button" id="browse_cards">Browse Cards</button>
            <button type="button" id="review_cards">Do Reviews</button>
            <button type="button" id="check_work">Check Your Work</button>
        </div>

        <div id="upload_mainDiv" class="tab-content active">
            <h2>Upload Cards from a Text File</h2>
            <p><i>Other options for adding cards coming soon!</i></p>
            <label for="upload_dropdownMenu">Choose a deck:</label>
            <select id="upload_dropdownMenu" name="upload_dropdownMenu">
                <option value="" disabled selected>Select your option</option>
                <option value="Ge'ez">Ge'ez</option>
                <option value="Ancient Greek">Ancient Greek</option>
                <option value="Russian">Russian</option>
            </select>
            
            <div class="upload_input-group">
                <label for="uploadTextFile">Upload Text File:</label>
                <input type="file" id="uploadTextFile" accept=".txt">
            </div>
            
            <div class="button-group">
                <button id="upload_submitBtn" class="hidden">Submit</button>
                <button id="upload_cancel" class="hidden">Cancel</button>
            </div>
            <br>
            <br>
            <div class="review-options">
                <button type="button" id="wipeDatabaseButton" style="background: red; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer;">
                    &#10003; Wipe the database
                </button>
            </div>
            
            <div id="upload_output"></div>
        </div>

        <!-- Add placeholder divs for other tabs -->
        <div id="browse_mainDiv" class="tab-content">
            <h2>Browse Cards</h2>
            <p>Browse cards content will go here...</p>
        </div>

        <div id="review_mainDiv" class="tab-content">
            <label for="review_dropdownMenu">Choose a deck to review:</label>
            <select id="review_dropdownMenu" name="review_dropdownMenu">
                <option value="" disabled selected>Select a deck</option>
                <option value="Ge'ez">Ge'ez</option>
            </select>

            <div class="review_input-group">
                <label for="review_numCards">Number of new cards to review:</label>
                <input type="number" id="review_numCards" name="review_numCards" min="1" max="100" value="10">
            </div>

            <div class="review-options">
            <label>
                <input type="checkbox" id="reviewAheadCheckbox" />
                Review cards ahead of schedule
            </label>
            <div id="reviewAheadOptions" style="display: none; margin-left: 20px;">
                <label>
                    Review cards due within: 
                    <select id="reviewAheadHours">
                        <option value="6">6 hours</option>
                        <option value="12">12 hours</option>
                        <option value="24" selected>24 hours</option>
                        <option value="48">48 hours</option>
                        <option value="72">72 hours</option>
                        <option value="168">1 week</option>
                    </select>
                </label>
            </div>

            <button id="review_submitBtn">Submit</button>

            <div class="review-options">
                <button type="button" id="resetCardReview" style="background: #00ffff; color: black; border: 3px black; padding: 8px 12px; border-radius: 4px; cursor: pointer;">
                    &#10003; Reset all cards' review status
                </button>
            </div>
        </div>
    </div>

        <div id="check_mainDiv" class="tab-content">
            <h2>Check Your Work</h2>
            <p>View answer keys for cards currently under review.</p>
            
            <label for="check_dropdownMenu">Choose a deck to check:</label>
            <select id="check_dropdownMenu" name="check_dropdownMenu">
                <option value="" disabled selected>Select a deck</option>
                <option value="Ge'ez">Ge'ez</option>
                <option value="Ancient Greek">Ancient Greek</option>
                <option value="Russian">Russian</option>
            </select>

            <div class="check_input-group">
                <button id="check_submitBtn">Show Answer Key</button>
            </div>

            <div id="check_output">Select a deck and click "Show Answer Key" to see answers for cards currently under review.</div>
        </div>
    </div>
</body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.1/jspdf.umd.min.js"></script>
    <script type="module">
        // Make jsPDF available to your module
        window.jsPDF = window.jspdf.jsPDF;
        console.log('jsPDF available:', typeof window.jsPDF);
        
        import('./synapdeck.js')
            .then(() => {
                console.log('synapdeck.js loaded successfully');
            })
            .catch(error => {
                console.error('Failed to load synapdeck.js:', error);
            });
    </script>
</html>